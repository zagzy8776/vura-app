# ===========================================
# VURA BACKEND - ENVIRONMENT VARIABLES
# ===========================================
# Generated secure keys - DO NOT SHARE!

# Security - Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
JWT_SECRET=0gNxoobuvI2oTQv+XzUPuD4Nl8FjGgYBsuV7ttPHPec=
ENCRYPTION_KEY=MGpo500R2Tw/8uWsipERaFlt2VcWEOvMMjbGnHijVhA=

# ===========================================
# DATABASE - PostgreSQL
# ===========================================
# Options:
# 1. Neon: https://neon.tech (recommended)
# 2. Railway: https://railway.app
# 3. Supabase: https://supabase.com
# 4. Render: https://render.com
DATABASE_URL="postgresql://neondb_owner:npg_iwnk6t5LmXYS@ep-little-boat-aik66tes-pooler.c-4.us-east-1.aws.neon.tech/prisma_migrate_shadow_db_5cabd20a-670a-4a59-81e8-746091ae3b46?sslmode=require&channel_binding=require"

# ===========================================
# KYC & IDENTITY VERIFICATION
# ===========================================

# --- QOREID (BVN, NIN, AML Screening) ---
# Sign up: https://qoreid.com/dashboard
# Get keys: API Settings > Backend Credentials
QOREID_CLIENT_ID=ZPG2QXW89LN5DAQBXZ6V
QOREID_CLIENT_SECRET=1d9b502e91944e23b7e118f9ed1381d8
QOREID_BASE_URL=https://api.qoreid.com/api/v1
QOREID_ENV=sandbox

# ===========================================
# PAYMENT PROVIDERS (Nigeria)
# ===========================================

# --- PAYSTACK (For deposits & transfers) ---
# Sign up: https://paystack.com
# Get keys: Dashboard > Settings > API Keys
# Test keys for development
PAYSTACK_SECRET_KEY_TEST=sk_test_372cdf35b49d48656e0e529d8768a414a14fc154
PAYSTACK_PUBLIC_KEY_TEST=pk_test_763c9b7d1903d306d5002ca95c072990ecc12c13
# Live keys for production (set in production .env)
PAYSTACK_SECRET_KEY=sk_live_YOUR_KEY_HERE
PAYSTACK_PUBLIC_KEY=pk_live_YOUR_KEY_HERE
PAYSTACK_WEBHOOK_SECRET=whsec_YOUR_SECRET_HERE
# Current environment (test/live)
PAYSTACK_ENV=test

# --- MONNIFY (Bank transfers & reserved accounts) ---
# Sign up: https://monnify.com
# Get keys: Dashboard > Settings > API Keys
MONNIFY_API_KEY=MK_TEST_3PM0K7EEAN
MONNIFY_SECRET_KEY=SC7TXUWXLVCM72V5BMH108Q1BB9NH2EH
MONNIFY_CONTRACT_CODE=3878607841
MONNIFY_BASE_URL=https://sandbox.monnify.com/api/v1
MONNIFY_WALLET_ACCOUNT=1168378666
MONNIFY_ENV=sandbox

# --- FLUTTERWAVE (Primary payment provider) ---
# Sign up: https://flutterwave.com
# Get keys: Dashboard > Settings > API Keys
FLUTTERWAVE_BASE_URL=https://api.flutterwave.com/v4
FLUTTERWAVE_CLIENT_ID=5b82bdf0-a79d-4499-b622-d158c90d4bd9
FLUTTERWAVE_ENCRYPTION_KEY=dYokMeX4v3QUrkwRHpF+BQL5eg0/UUeVrE+C38bJJzw=
FLUTTERWAVE_SECRET=EIj3a18CJZYH1HDMM9sXmY9hRz0hw2f7
FLUTTERWAVE_SECRET_HASH=vura_live_secure_hash_2026_production
FLUTTERWAVE_ENV=live

# ===========================================
# CRYPTO INTEGRATION
# ===========================================

# --- BUSHA (Crypto deposits & conversions) ---
# Sign up: https://busha.co
# Get keys: Developer > API Keys
BUSHA_SECRET_KEY=YlRLWEs3UGFrTDpUa280OTFlb3F3RXJaN3RhNm5IdkdNbEJrV3hOeGpZYVVrT2VYQTVjdVFRbE44dlE=
BUSHA_BASE_URL=https://api.busha.co/v1
BUSHA_ENV=production

# --- YELLOW CARD (Deprecated - using Busha instead) ---
# YELLOWCARD_API_KEY=YOUR_YELLOWCARD_KEY
# YELLOWCARD_WEBHOOK_SECRET=whsec_YOUR_SECRET_HERE

# ===========================================
# CDN & STORAGE
# ===========================================

# --- CLOUDINARY (Image uploads) ---
# Sign up: https://cloudinary.com
# Get keys: Dashboard > Settings > API Keys
CLOUDINARY_URL=cloudinary://832343434947934:4ELSySBJ8-LxYSRQb8XwvelewzQ@djup7klv2

# ===========================================
# EMAIL SERVICE
# ===========================================
# Resend.com for transactional emails
# Sign up: https://resend.com
# Get API key: Dashboard > API Keys
RESEND_API_KEY=re_brAjBRGz_NeEpTre6F1bHLfu1miyKxKXp
FROM_EMAIL=security@vura.app

# ===========================================
# APPLICATION CONFIG
# ===========================================
NODE_ENV=development
PORT=3000
LOG_LEVEL=debug

# Frontend URL (for CORS)
# Development: http://localhost:5173
# Production: https://yourdomain.com
FRONTEND_URL=http://localhost:5173

# ===========================================
# SECURITY CONFIG
# ===========================================

# Rate limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Session/JWT
JWT_EXPIRES_IN=24h
SESSION_TIMEOUT_MINUTES=15

# HTTPS enforcement
ENFORCE_HTTPS=false

# ===========================================
# COMPLIANCE & AML
# ===========================================

# Transaction limits per tier (in NGN)
TIER_1_DAILY_LIMIT=30000
TIER_1_MAX_BALANCE=300000
TIER_1_CUMULATIVE_LIMIT=300000

TIER_2_DAILY_LIMIT=200000
TIER_2_MAX_BALANCE=500000
TIER_2_CUMULATIVE_LIMIT=5000000

TIER_3_DAILY_LIMIT=5000000
TIER_3_MAX_BALANCE=10000000
TIER_3_CUMULATIVE_LIMIT=50000000

# EWS (Early Warning System) - Fraud detection
EWS_VELOCITY_THRESHOLD_AMOUNT=500000
EWS_VELOCITY_THRESHOLD_TIME_MINUTES=60
EWS_HIGH_VALUE_THRESHOLD=5000000
EWS_FIRST_TIME_BENEFICIARY_HOLD_HOURS=24

# Crypto deposit holds
CRYPTO_HOLD_HOURS=48
CRYPTO_CONFIRMATIONS_REQUIRED=3

# ===========================================
# NOTE: Production deployment
# ===========================================
# Before deploying to production:
# 1. Update PAYSTACK_SECRET_KEY and PAYSTACK_PUBLIC_KEY with live keys
# 2. Update PAYSTACK_ENV to 'live'
# 3. Update DATABASE_URL to production database
# 4. Update FRONTEND_URL to production domain
# 5. Set NODE_ENV=production
# 6. Set ENFORCE_HTTPS=true
# 7. Update all API keys with production credentials
# 8. Review and update all transaction limits
# 9. Enable all security measures
# 10. Store this file securely (never commit to git)